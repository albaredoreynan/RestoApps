<%= semantic_nested_form_for([:account, :purchases_module, @purchase], :html => { :class => "form-horizontal" }) do |purchase_f| %>
  <%= purchase_f.semantic_errors %>
  <div class="well">
    <%= purchase_f.input :branch_id, :as => :select, :collection => Branch.all.map{ |b| [ b.name, b.id ] } %>
    <%= purchase_f.input :purchase_date_time, :label => "Purchase Date Time", :as => :string, :input_html => { :class => "datetimepicker" }, :required => true %>
    <%= purchase_f.input :supplier_id, :as => :select, :collection => Supplier.all.map{ |b| [ b.name, b.id ] } %>
    <%= purchase_f.input :invoice_number %>
  </div>

  <table>
	<thead>
		<th>Item Name</th>
		<th>Unit</th>
		
		<th>Quantity</th>
		<th>Amount</th>
		<th>VAT Type</th>
		<th>Particulars</th>
		<th></th>
    </thead>
    <%= purchase_f.fields_for :purchase_items %>
  </table>
  <p><%= purchase_f.link_to_add "Add item", :purchase_items %></p>

  <%= purchase_f.submit "Submit", :class => 'btn btn-light-blue large' %>
<% end %>



<script>

$(function(){
	$(".datetimepicker").datetimepicker();
});

</script>